package cn.poile.ucs.auth.security;import cn.poile.ucs.auth.dao.BaseAuthMapper;import cn.poile.ucs.auth.entity.SysAuthority;import cn.poile.ucs.auth.entity.SysUser;import com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;import com.yzx.model.ucenter.BaseAuth;import lombok.extern.slf4j.Slf4j;import org.springframework.beans.BeanUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.security.core.Authentication;import org.springframework.security.core.context.SecurityContextHolder;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.core.userdetails.UsernameNotFoundException;import org.springframework.stereotype.Service;import java.util.ArrayList;import java.util.HashSet;import java.util.Set;/** * @author yaohw * @date 2019-09-25 15:25 */@Service@Slf4jpublic class UserNameUserDetailService extends BaseUserDetails {    @Autowired    private    BaseAuthMapper baseAuthMapper;    @Override    protected BaseAuth getBaseAuth(String s) throws UsernameNotFoundException {        log.debug("loadPasswordByUserName:{}", s);        BaseAuth baseAuth = baseAuthMapper.selectOne(new QueryWrapper<BaseAuth>().eq("username", s));        return baseAuth;    }}